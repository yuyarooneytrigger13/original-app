<div class="simple-container">
  <h1>行き先を編集</h1>

  <%= form_with(model: [@plan, @destination], local: true) do |f| %>

    <% if @destination.errors.any? %>
      <div class="error-area">
        <strong>入力内容を確認してください：</strong>
        <ul>
          <% @destination.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :name, "場所の名前" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :comment, "コメント" %>
      <%= f.text_area :comment, class: "form-control", rows: 4 %>
    </div>

    <div class="form-group">
      <%= f.label :image, "写真（変更する場合のみ）" %>
      <% if @destination.image.attached? %>
        <div style="margin-bottom: 10px;">
          <p style="font-size: 12px; color: #666;">現在の写真:</p>
          <%= image_tag @destination.image, style: "height: 80px; border-radius: 8px;" %>
        </div>
      <% end %>
      <%= f.file_field :image, class: "form-control" %>
    </div>

    <div style="margin-top: 30px;">
      <%= f.submit "更新する", class: "simple-btn" %>
    </div>

  <% end %>

  <div style="margin-top: 20px; text-align: center;">
    <%= link_to "キャンセルして戻る", plan_destinations_path(@plan), style: "color: #999;" %>
  </div>
</div>